!function(t){function e(e,n,r,s){d={dataType:"json"},1===arguments.length&&"string"!=typeof arguments[0]?(d=t.extend(d,e),"url"in d&&"data"in d&&a(d.url,d.data)):(t.isFunction(n)&&(s=r,r=n,n=null),e=a(e,n),d=t.extend(d,{url:e,data:n,success:r,error:s}))}function a(t,e){var a,n,r;for(a in e)r=e[a],n=t.replace("{"+a+"}",r),n!=t&&(t=n,delete e[a]);return t}function n(e){return e.type=e.type||"GET","string"!=typeof e.data&&null!=e.data&&(e.data=t.param(e.data)),e.data=e.data||"",t.restSetup.csrf&&!t.isEmptyObject(t.restSetup.csrf)&&(/^(get)$/i.test(e.type)||/(authenticity_token=)/i.test(e.data)||(e.data+=(e.data?"&":"")+t.restSetup.csrfParam+"="+$restSetup.csrfToken)),/^(get|post)$/i.test(e.type)||(e.data+=(e.data?"&":"")+t.restSetup.methodParam+"="+e.type.toLowerCase(),e.type="POST"),o.call(this,e)}function r(){return e.apply(this,arguments),t.extend(d,{type:"GET"}),t.ajax(d)}function s(){return e.apply(this,arguments),t.extend(d,{type:"POST"}),t.ajax(d)}function u(){return e.apply(this,arguments),t.extend(d,{type:"PUT"}),t.ajax(d)}function p(){return e.apply(this,arguments),t.extend(d,{type:"DELETE"}),t.ajax(d)}t.restSetup={methodParam:"_method"},t(document).on("page:load ready",function(){t.extend(t.restSetup,{csrfParam:t("meta[name=csrf-param]").attr("content"),csrfToken:t("meta[name=csrf-token]").attr("content")})});var d,o=t.ajax;t.extend({ajax:n,read:r,create:s,update:u,destroy:p})}(jQuery);